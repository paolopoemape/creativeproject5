{"ast":null,"code":"import _asyncToGenerator from \"/Users/paolopoemape/Desktop/photo-bomb/front-end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nexport default {\n  name: 'HomePage',\n  data: function data() {\n    return {\n      firstName: '',\n      lastName: '',\n      username: '',\n      password: '',\n      usernameLogin: '',\n      passwordLogin: '',\n      error: '',\n      errorLogin: ''\n    };\n  },\n  methods: {\n    register: function register() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var response;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this.error = '';\n                _this.errorLogin = '';\n\n                if (!(!_this.firstName || !_this.lastName || !_this.username || !_this.password)) {\n                  _context.next = 4;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 4:\n                _context.prev = 4;\n                _context.next = 7;\n                return axios.post('/api/users', {\n                  firstName: _this.firstName,\n                  lastName: _this.lastName,\n                  username: _this.username,\n                  password: _this.password\n                });\n\n              case 7:\n                response = _context.sent;\n                _this.$root.$data.user = response.data.user;\n                _context.next = 15;\n                break;\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](4);\n                _this.error = _context.t0.response.data.message;\n                _this.$root.$data.user = null;\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[4, 11]]);\n      }))();\n    },\n    login: function login() {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        var response;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _this2.error = '';\n                _this2.errorLogin = '';\n\n                if (!(!_this2.usernameLogin || !_this2.passwordLogin)) {\n                  _context2.next = 4;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 4:\n                _context2.prev = 4;\n                _context2.next = 7;\n                return axios.post('/api/users/login', {\n                  username: _this2.usernameLogin,\n                  password: _this2.passwordLogin\n                });\n\n              case 7:\n                response = _context2.sent;\n                _this2.$root.$data.user = response.data.user;\n                _context2.next = 15;\n                break;\n\n              case 11:\n                _context2.prev = 11;\n                _context2.t0 = _context2[\"catch\"](4);\n                _this2.errorLogin = \"Error: \" + _context2.t0.response.data.message;\n                _this2.$root.$data.user = null;\n\n              case 15:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[4, 11]]);\n      }))();\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA;AACAA,kBADA;AAEAC,MAFA,kBAEA;AACA;AACAC,mBADA;AAEAC,kBAFA;AAGAC,kBAHA;AAIAC,kBAJA;AAKAC,uBALA;AAMAC,uBANA;AAOAC,eAPA;AAQAC;AARA;AAUA,GAbA;AAeAC;AACAC,YADA,sBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;AAFA,sBAGA,yEAHA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA,uBAMAC;AACAV,4CADA;AAEAC,0CAFA;AAGAC,0CAHA;AAIAC;AAJA,kBANA;;AAAA;AAMAQ,wBANA;AAYA;AAZA;AAAA;;AAAA;AAAA;AAAA;AAcA;AACA;;AAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBA,KAlBA;AAoBAC,SApBA,mBAoBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;AAFA,sBAGA,8CAHA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA,uBAMAF;AACAR,gDADA;AAEAC;AAFA,kBANA;;AAAA;AAMAQ,wBANA;AAUA;AAVA;AAAA;;AAAA;AAAA;AAAA;AAYA;AACA;;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeA;AAnCA;AAfA","names":["name","data","firstName","lastName","username","password","usernameLogin","passwordLogin","error","errorLogin","methods","register","axios","response","login"],"sourceRoot":"src/components","sources":["Login.vue"],"sourcesContent":["<template>\n<div class=\"hero\">\n  <div class=\"heroBox\">\n    <form class=\"pure-form\">\n      <fieldset>\n        <legend>Register for an account</legend>\n        <input placeholder=\"first name\" v-model=\"firstName\">\n        <input placeholder=\"last name\" v-model=\"lastName\">\n      </fieldset>\n      <fieldset>\n        <input placeholder=\"username\" v-model=\"username\">\n        <input type=\"password\" placeholder=\"password\" v-model=\"password\">\n      </fieldset>\n      <fieldset>\n        <button type=\"submit\" class=\"pure-button pure-button-primary\" @click.prevent=\"register\">Register</button>\n      </fieldset>\n    </form>\n    <p v-if=\"error\" class=\"error\">{{error}}</p>\n    <form class=\"pure-form space-above\">\n      <fieldset>\n        <legend>Login</legend>\n        <input placeholder=\"username\" v-model=\"usernameLogin\">\n        <input type=\"password\" placeholder=\"password\" v-model=\"passwordLogin\">\n      </fieldset>\n      <fieldset>\n        <button type=\"submit\" class=\"pure-button pure-button-primary\" @click.prevent=\"login\">Login</button>\n      </fieldset>\n    </form>\n    <p v-if=\"errorLogin\" class=\"error\">{{errorLogin}}</p>\n  </div>\n</div>\n</template>\n\n\n<script>\nimport axios from 'axios';\nexport default {\n  name: 'HomePage',\n  data() {\n    return {\n      firstName: '',\n      lastName: '',\n      username: '',\n      password: '',\n      usernameLogin: '',\n      passwordLogin: '',\n      error: '',\n      errorLogin: '',\n    }\n  },\n\n  methods: {\n    async register() {\n      this.error = '';\n      this.errorLogin = '';\n      if (!this.firstName || !this.lastName || !this.username || !this.password)\n        return;\n      try {\n        let response = await axios.post('/api/users', {\n          firstName: this.firstName,\n          lastName: this.lastName,\n          username: this.username,\n          password: this.password,\n        });\n        this.$root.$data.user = response.data.user;\n      } catch (error) {\n        this.error = error.response.data.message;\n        this.$root.$data.user = null;\n      }\n    },\n\n    async login() {\n      this.error = '';\n      this.errorLogin = '';\n      if (!this.usernameLogin || !this.passwordLogin)\n        return;\n      try {\n        let response = await axios.post('/api/users/login', {\n          username: this.usernameLogin,\n          password: this.passwordLogin,\n        });\n        this.$root.$data.user = response.data.user;\n      } catch (error) {\n        this.errorLogin = \"Error: \" + error.response.data.message;\n        this.$root.$data.user = null;\n      }\n    },\n\n  }\n\n}\n</script>\n\n\n<style scoped>\n.space-above {\n  margin-top: 50px;\n}\n\nh1 {\n  font-size: 28px;\n  font-variant: capitalize;\n}\n\n.hero {\n  padding: 120px;\n  display: flex;\n  justify-content: center;\n}\n\n.heroBox {\n  text-align: center;\n}\n\n.hero form {\n  font-size: 14px;\n}\n\n.hero form legend {\n  font-size: 20px;\n}\n\ninput {\n  margin-right: 10px;\n}\n\n.error {\n  margin-top: 10px;\n  display: inline;\n  padding: 5px 20px;\n  border-radius: 30px;\n  font-size: 10px;\n  background-color: #d9534f;\n  color: #fff;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}